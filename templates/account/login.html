{% load static %}
{% load widget_tweaks %}
{% load account socialaccount %}
{% load i18n %}
{% load tailwind_tags %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
        integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/hostmind/host@latest/static/index.css">
    <title>{% block title %}{% endblock title %}GPTHero</title>
    {% tailwind_css %}
    <style>
        .animated-text {
            overflow: hidden;
            white-space: nowrap;
            border-right: .15em solid orange;
            font-size: 36px;
        }

    </style>
</head>

<body class="bg-black">
    <div class="flex w-[100vw] h-[100vh]">
        <div class="flex flex-col justify-center items-center w-[100vw] h-[100vh]">
            <!-- <p class="text-gray-100 mb-5 text-[30px]">Signup to GPTHero</p>
            <button class="w-[40%] h-[4%] bg-[white] text-[black] rounded-md hover:rounded-lg">Google</button>
            <form id="signup_form" method="post" action="{% url 'account_login' %}"
                class="flex flex-col items-center gap-6 w-[50%]">

                {% csrf_token %}
                {{ form.non_field_errors | safe }}
                <input type="hidden" name="remember" value="true" />

                <div class="w-[80%] h-[2px] bg-[white] mt-5"> </div>
                
                
                <div class="flex flex-col gap-2 w-[80%]">
                    {{ form.login.errors | safe }}
                    <label class="text-white">Username</label>
                    {% render_field form.login type="text" placeholder="Username" name="username" class="bg-black text-white" required=True %}
                </div>

                <div class="flex flex-col gap-2 w-[80%]">
                    {{ form.password.errors | safe }}
                    <label class="text-white">Password</label>
                    {% render_field form.password type="password" placeholder="Password" name="password" class="bg-black text-white" required=True %}
                </div>

                {% if redirect_field_value %}
                <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
                {% endif %}
                <div class="flex flex-col gap-2 w-[80%]">
                    <button class="bg-purple-600 mt-6 rounded-md h-[50%]" type="submit">Log in</button>
                </div>
            </form> -->

            <div
                style="animation: slideInFromLeft 1s ease-out;"
                class="max-w-md w-full rounded-xl shadow-2xl overflow-hidden p-8 space-y-8"
                >
                <h2
                    style="animation: appear 2s ease-out;"
                    class="text-center text-4xl font-extrabold text-white"
                >
                    Welcome
                </h2>
                <p style="animation: appear 3s ease-out;" class="text-center text-gray-200">
                    Sign in to your account
                </p>
                <form method="POST" action="#" class="space-y-6">
                    {% csrf_token %}
                    {{ form.non_field_errors | safe }}
                    <input type="hidden" name="remember" value="true" />
                    
                    <div class="flex flex-col gap-2 w-[100%]">
                        {{ form.login.errors | safe }}
                        <label class="text-white">Username</label>
                        {% render_field form.login type="text" placeholder="Username" name="username" class="rounded-md peer h-10 w-full border-b-2 border-gray-300 text-white bg-transparent placeholder-transparent focus:outline-none focus:border-purple-500 w-[125%]" required=True %}
                    </div>
    
                    <div class="flex flex-col gap-2 w-[100%]">
                        {{ form.password.errors | safe }}
                        <label class="text-white">Password</label>
                        {% render_field form.password type="password" placeholder="Password" name="password" class="rounded-md peer h-10 w-full border-b-2 border-gray-300 text-white bg-transparent placeholder-transparent focus:outline-none focus:border-purple-500 w-[125%]" required=True %}
                    </div>
    
                    {% if redirect_field_value %}
                    <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
                    {% endif %}

                    <button
                        class="w-full py-2 px-4 bg-purple-500 hover:bg-purple-700 rounded-md shadow-lg text-white font-semibold transition duration-200"
                        type="submit"
                    >
                        Sign In
                    </button>
                </form>
                <div class="text-center text-gray-300">
                    Don't have an account?
                    <a class="text-purple-300 hover:underline" href="/accounts/signup">Sign up</a>
                </div>
            </div>

            
        </div>

         
    </div>

</body>
<script>
    // function signup() {
    //     const username = document.getElementsByName('username').value;
    //     const email = document.getElementByName('email').value;
    //     const password = document.getElementByName('password').value;
    //     const confirmPassword = document.getElementByName('confirm').value;

    //     if (password !== confirmPassword) {
    //         alert('Passwords do not match');
    //         return;
    //     }

    //     const url = '{% url 'account_signup' %}'; // URL mapped to the Django signup view
    //     const data = { username: username, email: email, password: password };

    //     fetch(url, {
    //         method: 'POST',
    //         headers: {
    //             'Content-Type': 'application/json',
    //             'X-CSRFToken': getCookie('csrftoken') // Include CSRF token
    //         },
    //         body: JSON.stringify(data)
    //     })
    //     .then(response => response.json())
    //     .then(data => {
    //         console.log(data);
    //         // Handle response data as needed
    //     })
    //     .catch(error => {
    //         console.error('Error:', error);
    //     });
    // }

    //     // Function to get CSRF token from cookies
    //     function getCookie(name) {
    //         let cookieValue = null;
    //         if (document.cookie && document.cookie !== '') {
    //             const cookies = document.cookie.split(';');
    //             for (let i = 0; i < cookies.length; i++) {
    //                 const cookie = cookies[i].trim();
    //                 if (cookie.substring(0, name.length + 1) === (name + '=')) {
    //                     cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
    //                     break;
    //                 }
    //             }
    //         }
    //         return cookieValue;
    //     }

</script>

</html>